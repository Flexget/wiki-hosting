services:
  gollum:
    build: .
    container_name: gollum
    command:
      - "--config=/etc/gollum/config.rb"
    volumes:
      - ./config.rb:/etc/gollum/config.rb
      - ./wiki:/wiki
      # Maybe a terrible plan. This makes the submodule work
      - ./.git/modules/wiki:/.git/modules/wiki
    ports:
      - 4567:4567
    labels:
      - "traefik.http.routers.gollum.rule=Host(`flexget.com`)"
    #restart: unless-stopped